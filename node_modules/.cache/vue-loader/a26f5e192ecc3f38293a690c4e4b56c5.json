{"remainingRequest":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!/Volumes/JAKY/温博老师给的任务/智能盒子(1)/src/components/System/BaseSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/src/components/System/BaseSetting.vue","mtime":1599822245000},{"path":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/JAKY/温博老师给的任务/智能盒子(1)/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgaHR0cCBmcm9tICJAL2NvbmZpZy9odHRwIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJCYXNlU2V0dGluZyIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlwOiBbXSwKICAgICAgICAgICAgbmV0bWFzazogW10sCiAgICAgICAgICAgIGdhdGV3YXk6IFtdLAogICAgICAgICAgICBETlM6IFtdLAogICAgICAgICAgICBETlMyOiBbXSwKICAgICAgICAgICAgSFRUUFM6ICcnLAogICAgICAgICAgICBpc0lwVHJ1ZTogdHJ1ZSwKICAgICAgICAgICAgaXNHYXRld2F5VHJ1ZTogdHJ1ZSwKICAgICAgICAgICAgaXNOZXRtYXNrVHJ1ZTogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc2F2ZShldmVudCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC50YXJnZXQudmFsdWUpCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVFcnJvcih2YWx1ZSkgewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHZhbHVlKQogICAgICAgIH0sCiAgICAgICAgZ2V0SVAoKSB7CiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLmdldElQVXJsOwogICAgICAgICAgICB0aGlzLiRjdXJsLnBvc3QodXJsKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubmV0bWFzayA9IFtdOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2F0ZXdheSA9IFtdOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXAgPSBbXTsKICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5ORVRNQVNLLnNwbGl0KCcuJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXRtYXNrLnB1c2goK2l0ZW0pCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLkdBVEVXQVkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuR0FURVdBWS5zcGxpdCgnLicpLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhdGV3YXkucHVzaCgraXRlbSkKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJlcy5kYXRhLklQLnNwbGl0KCcuJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pcC5wdXNoKCtpdGVtKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcocmVzLm1zZykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZXJyID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaXNJUChzdGF0dXMpIHsKICAgICAgICAgICAgdGhpcy5pc0lwVHJ1ZSA9ICFzdGF0dXM7CiAgICAgICAgfSwKICAgICAgICBpc0dhdGV3YXkoc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuaXNHYXRld2F5VHJ1ZSA9ICFzdGF0dXM7CiAgICAgICAgfSwKICAgICAgICBpc05ldG1hc2soc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuaXNOZXRtYXNrVHJ1ZSA9IHN0YXR1czsKICAgICAgICB9LAogICAgICAgIGNoZWNrVGhlSVAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzR2F0ZXdheVRydWUgJiYgdGhpcy5pc05ldG1hc2tUcnVlICYmIHRoaXMuaXNJcFRydWUpIHsKICAgICAgICAgICAgICAgIGxldCBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXBbaV0gIT0gdGhpcy5nYXRld2F5W2ldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN1bWJpdEdlZGl0SVAodGhpcy5pcCwgdGhpcy5nYXRld2F5LCB0aGlzLm5ldG1hc2spOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRNb2RhbC53YXJuaW5nKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLorablkYoiLAogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAiaXDkuI7lrZDnvZHmjqnnoIHkuI3lnKjlkIzkuIDnvZHmrrXvvIzov5nlj6/og73lsIblr7zoh7TlvIDlj5Hmnb/ns7vnu5/ml6Dms5XkuIrnvZHvvIzmmK/lkKbnu6fnu60iLAogICAgICAgICAgICAgICAgICAgICAgICBva1RleHQ6ICLmmK8iLAogICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxUZXh0OiAi5ZCmIiwKICAgICAgICAgICAgICAgICAgICAgICAgb25PazogdGhpcy5zdW1iaXRHZWRpdElQKHRoaXMuaXAsIHRoaXMuZ2F0ZXdheSwgdGhpcy5uZXRtYXNrKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKCLkv53lrZjphY3nva7lpLHotKXvvIzor7fmo4Dmn6VJUO+8jOe9keWFs++8jOWtkOe9keaOqeeggeaYr+WQpuato+ehriIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN1bWJpdEdlZGl0SVAoaXAsIGdhdGV3YXksIG5ldG1hc2spIHsKICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2VkaXRJUFVybDsKICAgICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBpcDogaXBbMF0udG9TdHJpbmcoKSArICcuJyArIGlwWzFdLnRvU3RyaW5nKCkgKyAnLicgKyBpcFsyXS50b1N0cmluZygpICsgJy4nICsgaXBbM10udG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGdhdGV3YXk6IGdhdGV3YXlbMF0udG9TdHJpbmcoKSArICcuJyArIGdhdGV3YXlbMV0udG9TdHJpbmcoKSArICcuJyArIGdhdGV3YXlbMl0udG9TdHJpbmcoKSArICcuJyArIGdhdGV3YXlbM10udG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIG5ldG1hc2s6IG5ldG1hc2tbMF0udG9TdHJpbmcoKSArICcuJyArIG5ldG1hc2tbMV0udG9TdHJpbmcoKSArICcuJyArIG5ldG1hc2tbMl0udG9TdHJpbmcoKSArICcuJyArIG5ldG1hc2tbM10udG9TdHJpbmcoKQogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRjdXJsLnBvc3QodXJsLCBkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0SVAoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MocmVzLm1zZyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZyhyZXMubXNnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZXJyID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyKTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRJUFVybDsKICAgICAgICB0aGlzLiRjdXJsLnBvc3QodXJsKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMubmV0bWFzayA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5nYXRld2F5ID0gW107CiAgICAgICAgICAgICAgICB0aGlzLmlwID0gW107CiAgICAgICAgICAgICAgICByZXMuZGF0YS5ORVRNQVNLLnNwbGl0KCcuJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5ldG1hc2sucHVzaCgraXRlbSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhLkdBVEVXQVkpIHsKICAgICAgICAgICAgICAgICAgICByZXMuZGF0YS5HQVRFV0FZLnNwbGl0KCcuJykuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYXRld2F5LnB1c2goK2l0ZW0pCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXMuZGF0YS5JUC5zcGxpdCgnLicpLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5pcC5wdXNoKCtpdGVtKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcocmVzLm1zZykKICAgICAgICAgICAgfQogICAgICAgIH0sIGVyciA9PiB7CiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoZXJyKQogICAgICAgIH0pCiAgICB9LAogICAgbWl4aW5zOiBbaHR0cF0KfQo="},{"version":3,"sources":["BaseSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseSetting.vue","sourceRoot":"src/components/System","sourcesContent":["<template>\r\n    <div class=\"test3\">\r\n        <div class=\"title2\">\r\n            <h3>基础网络</h3>\r\n        </div>\r\n        <div class=\"aline\"></div>\r\n        <div class=\"cont1\">\r\n\r\n            <!----------------------------------------页面内部--------------------------------------------->\r\n            <div class=\"word\">\r\n                <!--                    <hr class=\"hrLine\"/>-->\r\n                <Divider orientation=\"left\" style=\"font-weight: bold\">▷ LAN1</Divider>\r\n            </div>\r\n\r\n            <div class=\"father\">\r\n                <label>IP地址</label>\r\n                <ve-ip width=\"220\" @status=\"isIP\" format=\"ipv4\" v-model=\"ip\"></ve-ip>\r\n                <br>\r\n                <br>\r\n\r\n                <label>子网掩码</label>\r\n                <ve-subnet width=\"220\" @status=\"isNetmask\" v-model=\"netmask\"></ve-subnet>\r\n                <br>\r\n                <br>\r\n\r\n                <label>网关</label>\r\n                <ve-ip width=\"220\" format=\"ipv4\" @status=\"isGateway\" :message=\"'请输入正确的网关'\" v-model=\"gateway\"></ve-ip>\r\n                <br>\r\n                <br>\r\n\r\n\r\n                <Button type=\"primary\" style=\"margin-left: 500px;\" @click=\"checkTheIP()\">保存配置</Button>\r\n\r\n            </div>\r\n\r\n            <div class=\"word\">\r\n                <Divider orientation=\"left\" style=\"font-weight: bold\">▷ 其他</Divider>\r\n            </div>\r\n            <div class=\"father\">\r\n                <label>首选DNS</label>\r\n                <ve-ip width=\"200\" format=\"ipv4\" :message=\"'请输入正确的DNS地址'\" v-model=\"DNS\"></ve-ip>\r\n                <br>\r\n                <br>\r\n\r\n                <label>备选DNS</label>\r\n                <ve-ip width=\"200\" format=\"ipv4\" :message=\"'请输入正确的DNS地址'\" v-model=\"DNS2\"></ve-ip>\r\n                <br>\r\n                <br>\r\n\r\n                <label>HTTPS</label>\r\n                <Input v-model=\"HTTPS\" placeholder=\"Enter something...\" style=\"margin-right: 50px;width: 250px\"/>\r\n                <br>\r\n                <br>\r\n\r\n                <Button type=\"primary\" style=\"margin-left: 500px;\">保存配置</Button>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import http from \"@/config/http\";\r\n\r\n    export default {\r\n        name: \"BaseSetting\",\r\n        data() {\r\n            return {\r\n                ip: [],\r\n                netmask: [],\r\n                gateway: [],\r\n                DNS: [],\r\n                DNS2: [],\r\n                HTTPS: '',\r\n                isIpTrue: true,\r\n                isGatewayTrue: true,\r\n                isNetmaskTrue: true\r\n            }\r\n        },\r\n        methods: {\r\n            save(event) {\r\n                console.log(event.target.value)\r\n            },\r\n            handleError(value) {\r\n                this.$Message.error(value)\r\n            },\r\n            getIP() {\r\n                let url = this.getIPUrl;\r\n                this.$curl.post(url).then(res => {\r\n                    if (res.code === 200) {\r\n                        this.netmask = [];\r\n                        this.gateway = [];\r\n                        this.ip = [];\r\n                        res.data.NETMASK.split('.').forEach(item => {\r\n                            this.netmask.push(+item)\r\n                        });\r\n                        if (res.data.GATEWAY) {\r\n                            res.data.GATEWAY.split('.').forEach(item => {\r\n                                this.gateway.push(+item)\r\n                            });\r\n                        }\r\n                        res.data.IP.split('.').forEach(item => {\r\n                            this.ip.push(+item)\r\n                        });\r\n                    } else {\r\n                        this.$Message.warning(res.msg)\r\n                    }\r\n                }, err => {\r\n                    this.$Message.error(err)\r\n                })\r\n            },\r\n            isIP(status) {\r\n                this.isIpTrue = !status;\r\n            },\r\n            isGateway(status) {\r\n                this.isGatewayTrue = !status;\r\n            },\r\n            isNetmask(status) {\r\n                this.isNetmaskTrue = status;\r\n            },\r\n            checkTheIP() {\r\n                if (this.isGatewayTrue && this.isNetmaskTrue && this.isIpTrue) {\r\n                    let flag = true;\r\n                    for (let i = 0; i < 3; i++) {\r\n                        if (this.ip[i] != this.gateway[i]) {\r\n                            flag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (flag) {\r\n                        this.sumbitGeditIP(this.ip, this.gateway, this.netmask);\r\n                    } else {\r\n                        this.$Modal.warning({\r\n                            title: \"警告\",\r\n                            content: \"ip与子网掩码不在同一网段，这可能将导致开发板系统无法上网，是否继续\",\r\n                            okText: \"是\",\r\n                            cancelText: \"否\",\r\n                            onOk: this.sumbitGeditIP(this.ip, this.gateway, this.netmask)\r\n                        })\r\n                    }\r\n                } else {\r\n                    this.$Message.error(\"保存配置失败，请检查IP，网关，子网掩码是否正确\")\r\n                }\r\n            },\r\n            sumbitGeditIP(ip, gateway, netmask) {\r\n                let url = this.geditIPUrl;\r\n                let data = {\r\n                    ip: ip[0].toString() + '.' + ip[1].toString() + '.' + ip[2].toString() + '.' + ip[3].toString(),\r\n                    gateway: gateway[0].toString() + '.' + gateway[1].toString() + '.' + gateway[2].toString() + '.' + gateway[3].toString(),\r\n                    netmask: netmask[0].toString() + '.' + netmask[1].toString() + '.' + netmask[2].toString() + '.' + netmask[3].toString()\r\n                };\r\n                this.$curl.post(url, data).then(res => {\r\n                    if (res.code === 200) {\r\n                        this.getIP();\r\n                        this.$Message.success(res.msg);\r\n                    } else {\r\n                        this.$Message.warning(res.msg);\r\n                    }\r\n                }, err => {\r\n                    this.$Message.error(err);\r\n                })\r\n            }\r\n        },\r\n        created() {\r\n            let url = this.getIPUrl;\r\n            this.$curl.post(url).then(res => {\r\n                if (res.code == 200) {\r\n                    this.netmask = [];\r\n                    this.gateway = [];\r\n                    this.ip = [];\r\n                    res.data.NETMASK.split('.').forEach(item => {\r\n                        this.netmask.push(+item)\r\n                    });\r\n                    if (res.data.GATEWAY) {\r\n                        res.data.GATEWAY.split('.').forEach(item => {\r\n                            this.gateway.push(+item)\r\n                        });\r\n                    }\r\n                    res.data.IP.split('.').forEach(item => {\r\n                        this.ip.push(+item)\r\n                    });\r\n                } else {\r\n                    this.$Message.warning(res.msg)\r\n                }\r\n            }, err => {\r\n                this.$Message.error(err)\r\n            })\r\n        },\r\n        mixins: [http]\r\n    }\r\n</script>\r\n\r\n<style>\r\n    .input-ip ul li input {\r\n        color: #000000;\r\n        width: 80% !important;\r\n        font-size: 16px;\r\n    }\r\n\r\n    .input-subnet ul li input {\r\n        color: #000000;\r\n        width: 80% !important;\r\n        font-size: 16px;\r\n    }\r\n</style>\r\n"]}]}